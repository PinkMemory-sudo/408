文件传输协议，常用来传输大文件。

是 TCP/IP 协议组中的协议之一

FTP协议包括两个组成部分，其一为FTP服务器，其二为FTP客户端。

默认情况下FTP协议使用TCP端口中的 20和21这两个端口，其中20用于传输数据，21用于传输控制信息。

也是C/S架构

？

* 主动模式，被动模式





**工作方式**



***主动模式***(Standard ,发送PORT命令到FTP服务器)

如果采用主动模式，FTP服务器20端口用来传输数据，21端口用来接收命令，主动模式就是客户端发送PORT请求时告诉服务器用哪个端口接收数据，服务器端通过自己的TCP 20端口连接至客户端的指定端口发送数据。



***被动模式***(Passive，发送PASV命令到FTP服务器)

客户端发送PASV命令，服务器收到指令后随机打开一个高端端口（[端口号](https://baike.baidu.com/item/端口号)大于1024）并且通知客户端在这个端口上传送数据的请求，客户端连接FTP服务器此端口，通过三次握手建立通道，然后FTP服务器将通过这个端口进行数据的传送。



主动就是告诉服务器用哪个端口接收数据，服务器自己连接到客户端的端口；

被动就是服务器收到命令后随机开个端口给客户端，客户端自己连。



FTP无法工作的场景

防火墙、内网不允许接受外部发起的连接的，客户端和服务器建立不了连接。



登录FTP服务器

格式：ftp://用户名：密码@FTP服务器IP或域名：FTP命令端口/路径/文件名

除FTP服务器IP或域名为必要项外，其他都不是必须的。



传输模式：

ASCII传输模式和二进制数据传输模式。

当文件传输时ftp通常会自动地调整文件的内容以便于把文件解释成另外那台计算机存储文本文件的格式。

当在拷贝任何非文本文件之前，用binary 命令告诉ftp逐字拷贝，不要对这些文件进行处理，即二进制传输

